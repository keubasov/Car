c
current_user
user
can? :new, :subscriptions
c
current_user
c
current_user.subscriptions
@subscription.id
c
user.role
can? :show, :subscriptions
q!
can? :show, :subscriptions
c
q!
can? :show, :subscriptions
can? :show, :subscription
c
current_user
can? :update, User
can?
can? :update
can? new
c
q!
exception
n
Subscription.where(user_id: current_user.id)
Subscription.all
current_user.id
current_user_id
user_id
c
v all
r
e
params
q!
current_user
q!
Make.find 0
model.make_id
n
Model.find 0
self
model_id
model
c
q!
Region.find(Town.find_by_name('Tara').region_id)
Region.all
Town.all
c
q!
ad
ad.region
regions(:omsk).id
regions(:omsk)
q!
regions(:omsk)
Town.find_region_by_name(tds[6].css('span')[1].text)
n
Town.find_region_by_name(tds[6].css('span')[1].text)
c
Town.find_region_by_name(tds[6].css('span')[1].text)
tds[6].css('span')[1].text
n
tds
tds[6].css('span')
tds[6].css('span')[1].text
c
q!
Q!
tds[6].css('span')[1].text
Town.find_region_by_name(tds[6].css('span')[1].text)
c
q!
Town.first
Town.find_by_name('Омск')
tds[6].css('span')[1].text
Town.find_region_by_name(tds[6].css('span')[1].text)
Town.find_region_by_name(tds[6].css('span')[1].text))
tds[0].css('a')[0]['href']
tds[6].text.delete(' ').scan(/\d+/)[0].to_i
tds[2].text.scan(/\d+/)[0].to_i
tds[0].text.to_date
site_id
n
c
@tr["data-bull-id"]
table.at_css('tr').to_a
table
@tr
q!
@tr[0]["data-bull-id"]
@tr["data-bull-id"]
@tr
q!
tr
q!
tr['data-bull-id']
tr
site_id
n
model
make
n
tds[0]
n
c
n
q
e
n
e
n
continue
c
continue
q!
tr
q!
tr
v all
tr
q!
c
make
model
q!
model
c
tds[2].text.strip.split(' ',3).delete_at(2)
tds[2].text.strip.split(' ',3)
tds[2].text.strip.split(' ')
tds[2].text.strip
tds[2].text
make
model
q!
n
ad
n
ad
n
s
n
ad
q!
update['message']
q!
@messages[0]
c
q!
n
c
s
message
q!
message
s
n
s
n
s
c
@response
q!
n
e
n
username
n
s
message
s
c
n
s
n
message
s
n
message.text
message
c
n
user
q!
n
s
user
n
q!
messages
n
q!
continue
n
e
n
q!
messages[0].text
message[0].text
message.text
messages
c
continue
q!
nq!
s
n
s
q
n
s
q!
n
s
n
s
updates
q!
n
updates
n
s
q!
n
s
continue
q!
updates.body
updates
update_id
update_id.body
update_id
q!
updates
n
obj
n
c
subs[0]
subs
c
ad
c
ad
q!
Region.find(662)
User.first
Subscription.first
ad
q!
